### OAuth2 PKCE授权流程测试

### 1. 获取授权码 (浏览器操作)
# 这个请求应该在浏览器中打开，包含code_challenge参数
# 实际使用时，替换code_challenge为前端生成的值
GET http://localhost:9000/oauth2/authorize?response_type=code&client_id=webapp-client&redirect_uri=http://localhost:8080/callback&scope=openid&code_challenge_method=S256&code_challenge=YOUR_CODE_CHALLENGE&state=random-state

### 2. 使用授权码交换令牌
# 授权完成后，使用获取的code和之前生成的code_verifier请求token
POST http://localhost:9000/oauth2/token
Content-Type: application/x-www-form-urlencoded

grant_type=authorization_code&client_id=webapp-client&redirect_uri=http://localhost:8080/callback&code=YOUR_AUTHORIZATION_CODE&code_verifier=YOUR_CODE_VERIFIER

### 3. 刷新令牌
# 使用refresh_token获取新的access_token
POST http://localhost:9000/oauth2/token
Content-Type: application/x-www-form-urlencoded

grant_type=refresh_token&client_id=webapp-client&refresh_token=YOUR_REFRESH_TOKEN

### 4. 使用令牌访问受保护资源
GET http://localhost:9000/api/user/info
Authorization: Bearer YOUR_ACCESS_TOKEN
Accept: application/json 